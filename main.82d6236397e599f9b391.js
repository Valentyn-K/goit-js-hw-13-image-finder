(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{OenX:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("x3rB"),n("OenX");var a={searchForm:document.querySelector("#search-form"),ulGallery:document.querySelector("#gallery"),loadMoreBtn:document.querySelector("#load-more"),spiner:document.querySelector(".spiner"),liGridSizer:document.querySelector(".grid-sizer"),ioTarget:document.querySelector("#intersection-observer-target")};function r(){a.ulGallery.innerHTML=""}n("JBxO"),n("FdtR");var i={page:1,query:"",fetchImages:function(){var e=this,t="?image_type=photo&orientation=horizontal&q="+this.query+"&page="+this.page+"&per_page=12&key=15837694-cfd882bdab50e7e30ec0ef461";return fetch("https://pixabay.com/api/"+t).then((function(e){return e.json()})).then((function(t){return e.incrementPage(),t.hits}))},incrementPage:function(){this.page+=1},get searchQuery(){return this.query},set searchQuery(e){this.query=e},resetPage:function(){this.page=1}},s=(n("lmye"),n("9GzK")),o=n.n(s),c=n("M5ur"),d=n.n(c),l=function(e){var t=e.webformatURL,n=e.likes,a=e.views,r=e.comments,i=e.downloads,s=document.createElement("li");s.classList.add("grid-item"),s.classList.add("gallery-item");var o=document.createElement("div");o.classList.add("photo-card");var c=document.createElement("img");c.classList.add("image"),c.src=t;var d=document.createElement("div");d.classList.add("stats");var l=document.createElement("p");l.classList.add("stats-item"),l.textContent=n;var u=document.createElement("i");u.classList.add("material-icons"),u.textContent="thumb_up",l.appendChild(u);var m=document.createElement("p");m.classList.add("stats-item"),m.textContent=a;var p=document.createElement("i");p.classList.add("material-icons"),p.textContent="visibility",m.appendChild(p);var h=document.createElement("p");h.classList.add("stats-item"),h.textContent=r;var g=document.createElement("i");g.classList.add("material-icons"),g.textContent="comment",h.appendChild(g);var f=document.createElement("p");f.classList.add("stats-item"),f.textContent=i;var v=document.createElement("i");return v.classList.add("material-icons"),v.textContent="cloud_download",f.appendChild(v),d.append(l,m,h,f),o.append(c,d),s.appendChild(o),s},u=new o.a("#gallery",{itemSelector:".grid-item",columnWidth:a.liGridSizer,percentPosition:!0,gutter:10,transitionDuration:"0.8s"});function m(e){var t,n=e.map(l);(t=a.ulGallery).append.apply(t,n),u.appended(n),d()(a.ulGallery).on("progress",(function(){u.layout()}))}var p={show:function(){a.spiner.classList.remove("spiner-hidden")},hide:function(){a.spiner.classList.add("spiner-hidden")}};n("RtS0"),n("3dw1"),n("62jW");var h=function(e){new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(p.show(),i.fetchImages().then((function(e){console.log(e),m(e),p.hide()})))}))}),{rootMargin:"300px 0px",threshold:.01}).observe(e)};var g=n("5Zwl"),f=n.n(g);a.searchForm.addEventListener("input",f()((function(e){r(),i.resetPage();var t=e.target.value;0!==t.length?(i.searchQuery=t,p.show(),i.fetchImages().then((function(e){m(e),p.hide()})).catch((function(e){p.hide(),console.log("Something went wrong!",e)})),h(a.ioTarget)):r()}),500))},x3rB:function(e,t,n){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.82d6236397e599f9b391.js.map